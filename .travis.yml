language: python

#python:
#  - 3.6
#  - 3.7

os:
  - linux
  - osx

cache: pip

install:
  - pip install -r requirements.txt

script:
  - python -m unittest test/test_api.py

matrix:
  include:

    # Linux
    # 14.04
#    - os: linux
#      dist: trusty
#      sudo: required
#
#    # 16.04 (Beta)
#    - os: linux
#      dist: xenial
#      sudo: required

    # Tests Python 3.7 on Ubuntu Xenial
    - python: 3.6
    - python: 3.7
      dist: trusty
      sudo: true

    # Tests Python 3.7 on Ubuntu Xenial
    - python: 3.6
    - python: 3.7
      dist: xenial
      sudo: true

    # MacOs
    # See https://docs.travis-ci.com/user/reference/osx/#os-x-version for details

    # 10.10
    - os: osx
      language: generic
      osx_image: xcode6.4

    # 10.11 - latest
    - os: osx
      language: generic
      osx_image: xcode8

    # 10.12 - latest
    - os: osx
      language: generic
      osx_image: xcode9.2

    # 10.13 - latest
    - os: osx
      language: generic
      osx_image: xcode10

# Perform manual install on python3 for OS X
before_install:
    - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then brew update ; fi
    # Don't install pyenv twice
    - if [[ "$TRAVIS_OS_NAME" == "osx" && -x "$(command -v pyenv)" ]]; then brew install pyenv ; fi
    - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then pyenv install 3.6.5 ; fi
    - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then PATH="~/.pyenv/versions/3.6.5/bin:${PATH}" ; fi


